package client

// This file is automatically generated! Do not modify it directly.

const Script = `
'use strict';var a = window.gogame = window.gogame || {};
var d = a.net = a.net || {};
d.Socket = function(c) {
  var b = this;
  b.b = new WebSocket(c);
  b.e = {};
  b.b.onmessage = function(e) {
    e = JSON.parse(e.data);
    if(e.i in b.e) {
      b.e[e.i](new f(e))
    }else {
      console.log(e)
    }
  };
  var h = "";
  b.b.onopen = function() {
    b.b.send(h);
    b.send = function(e) {
      b.b.send(JSON.stringify(e))
    }
  };
  b.send = b.send = function(b) {
    h += JSON.stringify(b) + "\n"
  };
  b.d = b.listen = function(e, c) {
    b.e[e] = c
  }
};
d.q = function() {
  return(d.h - 1).toString(32)
};
d.a = function() {
  d.h++;
  return d.q()
};
d.h = 0;
d.r = d.a();
d.c = d.EntityID = d.a();
d.o = d.OtherEntID = d.a();
d.n = d.EntityTag = d.a();
d.f = d.Amount = d.a();
d.j = d.ChangeHealth = d.a();
d.k = d.ChangeResource = d.a();
d.m = d.EntitySpawned = d.a();
d.l = d.EntityDespawned = d.a();
d.g = d.EntityPosition = d.a();
d.FirstUnusedPacketID = d.a();
var f = d.Packet = function(c) {
  "object" == typeof c ? (this.i = c.i, this.p = c.p) : (this.i = c, this.p = {});
  this.set = this.set = function(b, c) {
    this.p[b] = c;
    return this
  };
  this.get = this.get = function(b) {
    return this.p[b]
  }
};
var g = a.client = {}, i = g.Entities = {};
g.disconnected = !1;
g.start = function(c) {
  g = a.client = new d.Socket(c);
  g.Entities = i;
  g.disconnected = !1;
  g.b.onerror = g.b.onclose = function() {
    g.disconnected = !0
  };
  g.d(d.m, function(b) {
    i[b.get(d.c)] = {parent:b.get(d.o), tag:b.get(d.n)}
  });
  g.d(d.l, function(b) {
    (function e(b) {
      delete i[b];
      for(var c in i) {
        i[c].parent == b && e(c)
      }
    })(b.get(d.c))
  });
  g.d(d.k, function(b) {
    i[b.get(d.c)].resource = b.get(d.f)
  });
  g.d(d.j, function(b) {
    i[b.get(d.c)].health = b.get(d.f)
  });
  g.d(d.g, function(b) {
    i[b.get(d.c)].position = b.get(d.g)
  })
};

`
